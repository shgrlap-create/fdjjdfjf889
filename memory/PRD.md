# CineStarMaps PRD

## Оригинальное описание
Персональный AI-ассистент для поиска фильмов "под настроение" с интерактивной визуальной доской рекомендаций в виде графа/звёздной карты.

## Архитектура
- **Frontend**: React + Framer Motion + Canvas 2D
- **Backend**: FastAPI + MongoDB
- **AI**: OpenAI GPT-5.2 через Emergent LLM Key
- **Auth**: Google Auth + Magic Link

## Целевая аудитория
Киноманы, которые хотят персонализированные рекомендации по настроению, а не обычный каталог.

## Основные требования
1. Визуальный граф фильмов (не списки)
2. AI-валидация запросов (отклоняет общие/плохие запросы)
3. Интерактивность: pan/zoom/click
4. Кинематографичный дизайн "продукт будущего"
5. Минимум текста, максимум ощущений

---

## Реализовано (Январь 2026)

### Экран входа
- ✅ Вращающаяся планета с сетевыми линиями
- ✅ Звёздный фон с золотыми линиями
- ✅ Кнопки входа: Google, Apple, Telegram
- ✅ Magic link авторизация
- ✅ CSS-анимации планеты (infinite rotation)

### Dashboard
- ✅ Центральный поиск с примерами запросов
- ✅ AI валидация запросов (GPT-5.2)
- ✅ AI рекомендации возвращают JSON: nodes + links
- ✅ Анимированный переход поиска в header

### Граф фильмов
- ✅ Canvas 2D рендеринг (60 FPS)
- ✅ TOP узлы (золотые) в центре
- ✅ Вторичные узлы (серые) вокруг
- ✅ Линии связей между фильмами
- ✅ Pan (зажать ЛКМ и перемещаться)
- ✅ Zoom (колёсико мыши)
- ✅ Hover показывает tooltip
- ✅ Click открывает карточку фильма
- ✅ "Дышащая" анимация узлов

### Карточка фильма
- ✅ Постер + backdrop
- ✅ Название (RU/EN) + год
- ✅ Рейтинг (звёзды + процент)
- ✅ Описание на русском
- ✅ "Почему рекомендован" (3 буллета)
- ✅ Отзывы (2-3 штуки)
- ✅ Кнопки "Смотреть" (заглушки)
- ✅ "В избранное"

### Левая панель
- ✅ Навигация: Главное, Избранное, История
- ✅ История запросов (для авторизованных)
- ✅ Избранные фильмы
- ✅ Кнопка выхода

---

## Бэклог (P0/P1/P2)

### P0 - Критично
- [ ] Интеграция TMDb API для реальных данных фильмов
- [ ] Больше фильмов в моках (сейчас 10)

### P1 - Важно
- [ ] Реальные партнёрские ссылки (Кинопоиск, IVI, Okko)
- [ ] Страница настроек пользователя
- [ ] Push-уведомления о новых фильмах

### P2 - Желательно
- [ ] 3D граф на Three.js (вместо Canvas 2D)
- [ ] Больше анимаций при переходах
- [ ] Темы оформления (light mode?)
- [ ] Sharing - поделиться подборкой

---

## Следующие шаги
1. Подключить TMDb API для постеров и метаданных
2. Расширить базу моковых фильмов
3. Добавить реальные ссылки на стриминговые сервисы
